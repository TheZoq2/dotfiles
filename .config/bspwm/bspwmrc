#! /bin/bash

#Restart all our programs
pkill sxhkd
pkill tint2
pkill xfce4-power-manager
pkill volumeicon
pkill nm-applet
pkill compton;
pkill redshift
pkill wpmServer.py
pkill blueman-applet
pkill rspwm
#wp k #Kill the wallpaper manager

CONFIG_DIR="/home/frans/.config/bspwm"

#Starting required stuff
compton --config ~/.config/compton/comptonrc & #Transparent windows
#feh --bg-fill --no-xinerama /home/frans/Pictures/wallpapers/current.png #set background
feh --bg-fill /home/frans/Pictures/wallpapers/current.png #set background

bspc config border_width        1
bspc config window_gap         4
bspc config right_padding 27
bspc config left_padding 3
bspc config top_padding 3

bspc config split_ratio         0.50
bspc config borderless_monocle  true
bspc config gapless_monocle     true
bspc config focus_by_distance   true
bspc config focus_follows_pointer true
bspc config pointer_follows_monitor true
bspc config auto_cancel true
bspc config normal_border_color "#000000"

#change working directory to allow relative paths in python and bash
cd $CONFIG_DIR
./startup.py #Setup everything python based
#./pypanel.py #Create the panel


#Monitor layout is handled by python script
#bspc monitor -d I II III IV V VI VII VIII IX X

tint2 &
xfce4-power-manager &
volumeicon &
nm-applet &
redshift &
#python3 /home/frans/bin/wallpaperManager
setxkbmap us -variant altgr-intl -option caps:ctrl_modifier
#Reload xresources
xrdb ~/.XResources & 
wpmServer.py &
blueman-applet & 
~/.cargo/bin/rspwm &

#Reset the working directory
cd


sxhkd &

#Enable if something goes wrong
#xfce4-terminal &


